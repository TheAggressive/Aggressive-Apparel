/**
 * Panel Body Block Editor Styles
 *
 * This file contains ALL editor styles for panel-body, including:
 * - Base layout and sizing
 * - Content visibility overrides (for content-visibility: hidden from style.css)
 * - Nav-menu vertical layout inside panel
 * - Nav-link visibility and styling
 *
 * @package Aggressive_Apparel
 */

/* ========================================
 * BASE LAYOUT
 * ======================================== */
.wp-block-aggressive-apparel-panel-body {
  flex: 1 1 auto;
  min-height: 100px;
  overflow-y: auto;
}

/* ========================================
 * CONTENT VISIBILITY OVERRIDE
 * The frontend uses content-visibility: hidden for performance,
 * but in the editor we need content always visible for editing.
 * ======================================== */
@supports (content-visibility: auto) {

  .wp-block-aggressive-apparel-panel-body {
    content-visibility: visible !important;
  }
}

.wp-block-aggressive-apparel-panel-body__content {
  display: flex !important;
  flex-direction: column !important;
  visibility: visible !important;
  opacity: 1 !important;
  gap: 0.5rem;
  padding: 1rem;
}

/* Ensure inner blocks wrapper is visible in editor */
.wp-block-aggressive-apparel-panel-body .block-editor-inner-blocks,
.wp-block-aggressive-apparel-panel-body .block-editor-block-list__layout {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* ========================================
 * NAV-MENU VERTICAL LAYOUT
 * Force vertical layout for nav-menus inside panel body.
 * Override WordPress layout block styles (.is-layout-flex).
 * ======================================== */
.wp-block-aggressive-apparel-panel-body .wp-block-aggressive-apparel-nav-menu,
.wp-block-aggressive-apparel-panel-body .wp-block-aggressive-apparel-nav-menu.is-layout-flex {
  display: flex !important;
  flex-flow: column nowrap !important;
  align-items: stretch !important;
  width: 100% !important;
  gap: 0 !important;
}

/* ========================================
 * NAV-LINK VISIBILITY AND STYLING
 * Force visible and full-width for all nav items.
 * ======================================== */
.wp-block-aggressive-apparel-panel-body .wp-block-aggressive-apparel-nav-link {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  width: 100% !important;
  padding: 0.75rem 1rem;
  color: var(--panel-link-color, currentcolor);
  background: var(--panel-link-bg, transparent);
  border-radius: 4px;
}

.wp-block-aggressive-apparel-panel-body .wp-block-aggressive-apparel-nav-link__link {
  display: flex !important;
  width: 100%;
  padding: 0;
}

.wp-block-aggressive-apparel-panel-body .wp-block-aggressive-apparel-nav-submenu__trigger {
  display: flex !important;
  width: 100%;
  padding: 0.75rem 1rem;
  color: var(--panel-link-color, currentcolor);
  background: var(--panel-link-bg, transparent);
  border-radius: 4px;
}

.wp-block-aggressive-apparel-panel-body .wp-block-aggressive-apparel-nav-submenu {
  display: block !important;
  width: 100%;
}
